{% extends "shop/base.html" %}

{% block title %}Авторизация{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="tabs">
        <button id="login-tab" class="tab-button active" onclick="showLogin()">Вход</button>
        <button id="signup-tab" class="tab-button" onclick="showSignup()">Регистрация</button>
    </div>

    <div id="login-form" class="form-container active">
        <h2>Вход</h2>
        <form method="post" class="auth-form">
            {% csrf_token %}
            {{ form.as_p }}
            <input type="hidden" name="next" value="{{ request.GET.next }}">
            <button type="submit" name="login" class="btn auth-btn">Войти</button>
        </form>
    </div>

    <div id="signup-form" class="form-container">
        <h2>Регистрация</h2>
        <form method="post" class="auth-form">
            {% csrf_token %}
            {{ signup_form.as_p }}
            <button type="submit" name="signup" class="btn auth-btn">Зарегистрироваться</button>
        </form>
    </div>
</div>

<script>
    function showLogin() {
        document.getElementById('login-form').classList.add('active');
        document.getElementById('signup-form').classList.remove('active');
        document.getElementById('login-tab').classList.add('active');
        document.getElementById('signup-tab').classList.remove('active');
    }

    function showSignup() {
        document.getElementById('login-form').classList.remove('active');
        document.getElementById('signup-form').classList.add('active');
        document.getElementById('login-tab').classList.remove('active');
        document.getElementById('signup-tab').classList.add('active');
    }
</script>
{% endblock %}
